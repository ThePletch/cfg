set -e
function master_branch_name {
    git symbolic-ref refs/remotes/origin/HEAD | sed 's@^refs/remotes/origin/@@'
}

if [ "$(git rev-parse --abbrev-ref HEAD)" = "$(master_branch_name)" ]; then
	echo "Quickcommit is disabled when making direct edits to the master branch."
	exit 1
fi

git commit -am "$1"
git push origin head
